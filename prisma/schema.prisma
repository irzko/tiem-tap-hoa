generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Categories {
  category_id   String          @id @default(uuid())
  category_name String          @unique
  created_at    DateTime        @default(now())
  updated_at    DateTime        @updatedAt
  Subcategories Subcategories[]
}

model Subcategories {
  subcategory_id   String             @id @default(uuid())
  subcategory_name String             @unique
  created_at       DateTime           @default(now())
  updated_at       DateTime           @updatedAt
  Subsubcategories Subsubcategories[]
  Categories       Categories?        @relation(fields: [category_id], references: [category_id])
  category_id      String?
}

model Subsubcategories {
  subsubcategory_id   String         @id @default(uuid())
  subsubcategory_name String         @unique
  created_at          DateTime       @default(now())
  updated_at          DateTime       @updatedAt
  Products            Products[]
  Subcategories       Subcategories? @relation(fields: [subcategory_id], references: [subcategory_id])
  subcategory_id      String?
}

model Products {
  product_id        String            @id @default(uuid())
  product_name      String            @unique
  description       String
  price             Float
  image             String
  created_at        DateTime          @default(now())
  updated_at        DateTime          @updatedAt
  Subsubcategories  Subsubcategories? @relation(fields: [subsubcategory_id], references: [subsubcategory_id])
  subsubcategory_id String?
}

enum Role {
  USER
  ADMIN
}

model Users {
  user_id       String   @id @default(uuid())
  email         String   @unique
  full_name     String
  password_hash String
  phone_number  String?
  role          Role     @default(USER)
  created_at    DateTime @default(now())
  updated_at    DateTime @updatedAt
}
